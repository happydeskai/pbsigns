<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quote Lookup</title>
  <style>
    body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; }
    .card { max-width: 400px; border: 1px solid #ccc; border-radius: 8px; padding: 24px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    input { width: 100%; padding: 8px; margin-top: 10px; }
    button { width: 100%; padding: 10px; background-color: black; color: white; margin-top: 20px; }
  </style>
</head>
<body>
  <div class="card">
    <h2>Quote Lookup</h2>
    <input id="quoteId" type="text" placeholder="Quote ID" />
    <input id="email" type="email" placeholder="Email" />
    <button onclick="lookupQuote()">Proceed</button>
    <div id="result" style="margin-top:20px;"></div>
  </div>

  <script>
    async function lookupQuote() {
      const quoteId = document.getElementById("quoteId").value;
      const email = document.getElementById("email").value;
      const result = document.getElementById("result");

      const res = await fetch('https://script.google.com/macros/s/AKfycbwk5Ev2kXs4s6GsHWxJlkJuKisrDHG_IIZdUr_JH0yesY5F3_1oD2_YoSoQIv9_aHkrTA/exec', {
        method: 'POST',
        body: new URLSearchParams({ quoteId, email })
      });
      
      const data = await res.json();

      if (data.success) {
        result.innerHTML = `
          <p><strong>Quote ID:</strong> ${data.quoteId}</p>
          <p><strong>Email:</strong> ${data.email}</p>
          <p><strong>Total:</strong> $${data.total}</p>
        `;
      } else {
        result.innerHTML = "<p style='color:red;'>Quote not found or email does not match.</p>";
      }
    }
  </script>
</body>
</html>
